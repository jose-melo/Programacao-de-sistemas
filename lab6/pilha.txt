 @ /0000
 JP MAIN
;PILHA
 @ /0B00
PILHA K /0000
;CONSTANTES
TOPO K PILHA
TAM K /0000
N K /0000
AUX K /0000
PPILHA K PILHA
DOIS K /0002
MOVE K /9000
UM K /0001
LOAD K /8000
ASCII K /3030
ARG K /0005
;
;Função CriaPilha
;
CRIAPILHA K /0000
 LD PPILHA
 MM TOPO
 LV /0000
 MM N
 LD ARG
 MM TAM
 RS CRIAPILHA
;
;Função Limpa Pilha
;
LIMPAPILHA K /0000
L1 LD N
 JZ ACABEI
 SC DESEMPILHA
 JP L1
ACABEI RS LIMPAPILHA
;
;Função Empilha
;
EMPILHA K /0000
 MM AUX
 LD TOPO
 + DOIS
 MM TOPO
 + MOVE
 MM INST
 LD AUX
INST K /0000
 LD N
 + UM
 MM N
 RS EMPILHA
;
; Função Desempilha
;
DESEMPILHA K /0000
 LD TOPO
 + LOAD
 MM INS
INS K /0000
 MM AUX
 LD TOPO
 - DOIS
 MM TOPO
 LD N
 - UM
 MM N
 LD AUX
 RS DESEMPILHA
;
;Programa teste
;
MAIN LV /0005
 SC CRIAPILHA
 LV /0004
 SC EMPILHA
 LV /0007
 SC EMPILHA
 LV /0002
 SC EMPILHA
 SC DESEMPILHA
 + ASCII
 PD /100
 SC DESEMPILHA
 + ASCII
 PD /100
 SC LIMPAPILHA
 LD N
 + ASCII
 PD /100
 HM /0000 
